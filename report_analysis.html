<!DOCTYPE html>
<html>
<head>
    <title>HTML Report Analysis - Categorized Dependencies and API Calls Section</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .issue { background-color: #ffebee; padding: 15px; border-left: 4px solid #f44336; margin: 10px 0; }
        .success { background-color: #e8f5e8; padding: 15px; border-left: 4px solid #4caf50; margin: 10px 0; }
        .category { background-color: #f5f5f5; padding: 10px; margin: 10px 0; border-radius: 5px; }
        .missing { color: #f44336; font-weight: bold; }
        .present { color: #4caf50; font-weight: bold; }
        table { border-collapse: collapse; width: 100%; margin: 10px 0; }
        th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
        th { background-color: #f2f2f2; }
    </style>
</head>
<body>
    <h1>HTML Report Analysis: Categorized Dependencies and API Calls Section</h1>
    
    <h2>Current State Verification (http://localhost:9871/dependency-report.html)</h2>
    
    <div class="success">
        <h3>‚úÖ Section Present</h3>
        <p>The "Categorized Dependencies and API Calls" section is successfully present in the HTML report.</p>
    </div>
    
    <h3>Categories Found:</h3>
    <table>
        <tr>
            <th>Category Name</th>
            <th>Status</th>
            <th>Dependencies Section</th>
            <th>API Calls Section</th>
            <th>Expected Dependencies</th>
        </tr>
        <tr>
            <td>Web Frameworks</td>
            <td>allowed</td>
            <td class="missing">‚ùå MISSING</td>
            <td class="present">‚úÖ Present (6 calls)</td>
            <td>tomli, packaging, pyyaml, click</td>
        </tr>
        <tr>
            <td>Data Science</td>
            <td>allowed</td>
            <td class="missing">‚ùå MISSING</td>
            <td class="present">‚úÖ Present (3 calls)</td>
            <td>jinja2, pytest, pytest-cov, matplotlib</td>
        </tr>
        <tr>
            <td>Machine Learning</td>
            <td>restricted</td>
            <td class="missing">‚ùå MISSING</td>
            <td class="present">‚úÖ Present (2 calls)</td>
            <td>black, ruff, scikit-learn, keras</td>
        </tr>
        <tr>
            <td>Uncategorized</td>
            <td>cannot_determine</td>
            <td class="missing">‚ùå MISSING</td>
            <td class="present">‚úÖ Present (1 call)</td>
            <td>N/A (uncategorized dependencies should be shown)</td>
        </tr>
    </table>
    
    <div class="issue">
        <h3>üî¥ CRITICAL ISSUE DETECTED</h3>
        <p><strong>Problem:</strong> The "Categorized Dependencies and API Calls" section is only showing API calls but NOT showing categorized dependencies, despite the section title promising both.</p>
        
        <p><strong>Expected Behavior:</strong></p>
        <ul>
            <li>Each category should show a "Dependencies (X)" subsection with a table of matching dependencies</li>
            <li>Each category should show an "API Calls (Y)" subsection with a table of matching API calls</li>
            <li>Dependencies like tomli, packaging, pyyaml, click should appear under "Web Frameworks"</li>
            <li>Dependencies like jinja2, pytest should appear under "Data Science"</li>
            <li>Dependencies like black, ruff should appear under "Machine Learning"</li>
        </ul>
        
        <p><strong>Actual Behavior:</strong></p>
        <ul>
            <li>Only API Calls sections are present</li>
            <li>No Dependencies sections are rendered</li>
            <li>The categorized dependencies are completely missing from the report</li>
        </ul>
    </div>
    
    <h3>API Calls Verification (Working Correctly):</h3>
    <div class="success">
        <ul>
            <li><strong>Web Frameworks:</strong> 6 API calls detected ‚úÖ</li>
            <li><strong>Data Science:</strong> 3 API calls detected ‚úÖ</li>
            <li><strong>Machine Learning:</strong> 2 API calls detected ‚úÖ</li>
            <li><strong>Uncategorized:</strong> 1 API call detected ‚úÖ</li>
        </ul>
    </div>
    
    <h3>Summary:</h3>
    <p>The categorized section successfully categorizes and displays API calls, but fails to categorize and display dependencies. This is a partial implementation where only half of the promised functionality (API categorization) is working, while dependency categorization is missing entirely.</p>
    
    <p><em>Report generated on: <script>document.write(new Date().toLocaleString())</script></em></p>
</body>
</html>